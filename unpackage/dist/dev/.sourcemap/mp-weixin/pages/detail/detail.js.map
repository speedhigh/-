{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/muzi-uniapp/pages/detail/detail.vue?40e3","webpack:///D:/code/muzi-uniapp/pages/detail/detail.vue?04bf","webpack:///D:/code/muzi-uniapp/pages/detail/detail.vue?af92","webpack:///D:/code/muzi-uniapp/pages/detail/detail.vue?c6b2","uni-app:///pages/detail/detail.vue","webpack:///D:/code/muzi-uniapp/pages/detail/detail.vue?37a2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uLoadingPage","uSwiper","uIcon","uAvatar","uRate","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","g0","_self","_c","loadingNum","Math","round","info","iprice","rate","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":"iIAAA,KACA,YACA,Y,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a,gECHX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0BACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,aAAc,WACZ,OAAO,iIAITC,QAAS,WACP,OAAO,qHAITC,MAAO,WACL,OAAO,iHAITC,QAAS,WACP,OAAO,qHAITC,MAAO,WACL,OAAO,kHAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACRN,EAAIO,WAAa,EAExB,KADAC,KAAKC,MAAMT,EAAIU,KAAKC,OAASX,EAAIY,KAAO,KAE5CZ,EAAIa,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLb,GAAIA,MAKRc,GAAmB,EACnBC,EAAkB,GACtBpB,EAAOqB,eAAgB,G,iCChEvB,8GAAmnB,eAAG,G,mfCkJtnB,CACA,KADA,WAEA,OACA,aACA,YACA,8BACA,WACA,QACA,eACA,WACA,YACA,aACA,WACA,aACA,UACA,WACA,QACA,UAIA,OArBA,SAqBA,GACA,oBACA,sBACA,mBACA,sBACA,uBACA,uBAEA,OA7BA,WA8BA,4BACA,oBACA,kCAGA,SACA,WADA,SACA,4IACA,2DADA,8CAGA,aAJA,WAIA,gIACA,kEADA,SAEA,8GAFA,uBAGA,iFAHA,8CAKA,WATA,SASA,kJACA,oEADA,OACA,EADA,OAEA,sBACA,gBAHA,8CAKA,QAdA,SAcA,kJACA,kEADA,OACA,EADA,OAEA,mBACA,sCACA,iEACA,kCACA,gBANA,8CAQA,WAtBA,SAsBA,kJACA,2EADA,OACA,EADA,OAEA,8BACA,sEACA,gBAJA,8CAMA,YA5BA,SA4BA,kJACA,qEADA,OACA,EADA,OAEA,uBACA,gBAHA,8CAKA,WAjCA,SAiCA,kJACA,iFADA,OACA,EADA,OAEA,eACA,6BACA,gBAJA,8CAOA,cAxCA,WAwCA,WAEA,8BAEA,oEACA,6BACA,wCACA,yBACA,kIACA,mBACA,uBACA,gEACA,wBACA,SAIA,yCACA,yBACA,sIACA,mBACA,uBACA,kEACA,wBACA,cAtBA,uBA4BA,QAtEA,WAsEA,kIACA,gBADA,oBAGA,0BAHA,uBAGA,mBAHA,6BAKA,kCALA,uBAKA,qBALA,iCAOA,mBAPA,UAQA,QACA,cACA,gDACA,iBACA,kEAZA,QAQA,EARA,OAcA,kDACA,kBACA,uBACA,yEACA,KAEA,uBACA,sFACA,KAtBA,+CA0BA,IAhGA,WAkGA,0BAEA,mCAEA,6CACA,0FAHA,wBAFA,uBAOA,eAzGA,WA0GA,6EACA,6CAGA,iBA9GA,WA+GA,kFACA,gD,2ECrSA,8GAA85B,eAAG,G","file":"pages/detail/detail.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3e159eb4&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=3e159eb4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e159eb4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=3e159eb4&scoped=true&\"","var components\ntry {\n  components = {\n    uLoadingPage: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loading-page/u-loading-page\" */ \"@/uni_modules/uview-ui/components/u-loading-page/u-loading-page.vue\"\n      )\n    },\n    uSwiper: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-swiper/u-swiper\" */ \"@/uni_modules/uview-ui/components/u-swiper/u-swiper.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uAvatar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-avatar/u-avatar\" */ \"@/uni_modules/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uRate: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-rate/u-rate\" */ \"@/uni_modules/uview-ui/components/u-rate/u-rate.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !(_vm.loadingNum < 5)\n    ? Math.round(_vm.info.iprice * _vm.rate * 10)\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"text-sm text-gray-800\">\r\n\t\t<u-loading-page v-if=\"loadingNum < 5\" :loading=\"true\" loadingText=\"正在加载...\" />\r\n\t\t<view v-else class=\"relative bg-gray-100\" style=\"padding-bottom: 100rpx\">\r\n\t\t\t<!-- 轮播图 -->\r\n\t\t\t<u-swiper :list=\"swipers\" height=\"750rpx\" imgMode=\"scaleToFill\" indicator indicatorInactiveColor=\"#E6E6E6\" indicatorActiveColor=\"#F03E38\" />\r\n\t\t\t<!-- 信息区 -->\r\n\t\t\t<view \r\n\t\t\t\tclass=\"bg-white rounded-b-2xl\"\r\n\t\t\t\tstyle=\"border-top:1px solid #F7F7F7; padding: 36rpx 32rpx;\"\r\n\t\t\t>\r\n\t\t\t\t<text class=\"text-base font-bold\">{{ info.stitle }}</text>\r\n\t\t\t\t<view class=\"text-red-400\" style=\"margin-top: 20rpx\">\r\n\t\t\t\t\t<text class=\"text-4xl font-bold\">{{ info.iprice }}</text>\r\n\t\t\t\t\t<text style=\"margin-left: 8rpx; margin-top: -4rpx;\">港币 (约{{ Math.round(info.iprice * rate * 10) / 10 }}元)</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex text-gray-600\" style=\"margin-top: 14rpx\">\r\n\t\t\t\t\t<view v-if=\"info.brand\">{{ info.brand }}</view>\r\n\t\t\t\t\t<view class=\"ml-auto\">已售{{ info.icountsale }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view\r\n\t\t\t\t\tclass=\"flex justify-between items-center\"\r\n\t\t\t\t\tstyle=\"margin-top: 32rpx; padding: 0 8rpx\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"iconfont icon-selection text-red-400 flex items-center\">\r\n\t\t\t\t\t\t<view class=\"text-gray-900 text-sm\" style=\"margin-left: 8rpx\">正品承诺</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"bg-gray-300\" style=\"width: 2rpx; height: 40rpx\" /> <!-- 分割线 -->\r\n\t\t\t\t\t<view class=\"iconfont icon-global text-red-400 flex items-center\">\r\n\t\t\t\t\t\t<view class=\"text-gray-900 text-sm\" style=\"margin-left: 8rpx\">海外直邮</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"bg-gray-300\" style=\"width: 2rpx; height: 40rpx\" /> <!-- 分割线 -->\r\n\t\t\t\t\t<view class=\"iconfont icon-safe text-red-400 flex items-center\">\r\n\t\t\t\t\t\t<view class=\"text-gray-900 text-sm\" style=\"margin-left: 8rpx\">低价保障</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 评价 -->\r\n\t\t\t<view class=\"bg-white rounded-2xl mt-3d5 p-4\">\r\n\t\t\t\t<view class=\"flex items-center\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"bg-red-400 rounded-lg\" \r\n\t\t\t\t\t\tstyle=\"width: 6rpx; height: 32rpx; margin-right: 13rpx\" \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<view class=\"text-base font-bold\">评价<text class=\"text-xs text-gray-600 font-normal\" style=\"margin-left: 12rpx\">({{ cmtTotal }}条)</text></view>\r\n\t\t\t\t\t<navigator :url=\"'/pages/detail/comment?id=' + productId\" v-if=\"cmtTotal > 2\" class=\"ml-auto\">\r\n\t\t\t\t\t\t<u-icon label=\"查看更多\" labelPos=\"left\" labelSize=\"28rpx\" size=\"28rpx\" name=\"arrow-right\"></u-icon>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"cmtTotal > 0\">\r\n\t\t\t\t\t<view v-for=\"(item, index) in commentList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"flex items-center\" style=\"margin-top: 32rpx\">\r\n\t\t\t\t\t\t\t<u-avatar src=\"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\" size=\"68rpx\" />\r\n\t\t\t\t\t\t\t<view style=\"margin-left: 13rpx\">\r\n\t\t\t\t\t\t\t\t<view>{{ item.userName }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-gray-600 text-xs\" style=\"margin-right: 12rpx\">{{ item.time }}</view>\r\n\t\t\t\t\t\t\t\t\t<u-rate :count=\"5\" v-model=\"item.irank\" size=\"12\" gutter=\"0\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"line-2\" style=\"margin-top: 25rpx; height: 66rpx\">\r\n\t\t\t\t\t\t\t{{ item.smemo ? item.smemo : '默认好评' }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-else style=\"margin-top: 32rpx;\">\r\n\t\t\t\t\t当前商品暂无评价\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 更多推荐 -->\r\n\t\t\t<view \r\n\t\t\t\tclass=\"bg-white rounded-2xl mt-3d5 p-4\">\r\n\t\t\t\t<view class=\"flex items-center\" style=\"margin-bottom: 32rpx\">\r\n\t\t\t\t\t<view class=\"bg-red-400 rounded-lg\" style=\"width: 6rpx; height: 32rpx; margin-right: 13rpx\" />\r\n\t\t\t\t\t<text class=\"text-base font-bold\">更多推荐</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view scroll-x=\"true\" enable-flex=\"true\" scroll-with-animation=\"true\" :scroll-left=\"scrollLeft\">\r\n\t\t\t\t\t<view class=\"flex items-center\">\r\n\t\t\t\t\t\t<view v-for=\"(item, index) in moreList\" :key=\"index\" class=\"flex-shrink-0\">\r\n\t\t\t\t\t\t\t<navigator\r\n\t\t\t\t\t\t\t\t:url=\"'/pages/detail/detail?id=' + item.id\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md\"\r\n\t\t\t\t\t\t\t\tstyle=\"width: 240rpx; height: 452rpx; border:1px solid #F1F1F1; margin-right: 28rpx\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<image :src=\"item.simage1\" mode=\"\" class=\"rounded-t-md\" style=\"width: 240rpx; height: 240rpx\" />\r\n\t\t\t\t\t\t\t\t<view style=\"padding: 16rpx\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-xs line-2\">{{ item.stitle }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-red-400 text-lg\" style=\"margin-top: 8rpx\">{{ item.iprice }} <text class=\"text-xs\">港币</text></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex items-center text-xs text-gray-600\" style=\"margin-top: 16rpx;\">\r\n\t\t\t\t\t\t\t\t\t\t<view>{{ item.country }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"ml-auto\">已售{{ item.icountsale }}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 药品详情 -->\r\n\t\t\t<view class=\"bg-white rounded-t-2xl mt-3d5 p-4\">\r\n\t\t\t\t<view class=\"flex items-center\" style=\"margin-bottom: 32rpx\">\r\n\t\t\t\t\t<view class=\"bg-red-400 rounded-lg\" style=\"width: 6rpx; height: 32rpx; margin-right: 13rpx\" />\r\n\t\t\t\t\t<text class=\"text-base font-bold\">药品详情</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-for=\"(item, index) in dtlList\" :key=\"index\" class=\"text-center\">\r\n\t\t\t\t\t<image :src=\"item.img\" mode=\"widthFix\" lazy-load=\"true\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- action-bar -->\r\n\t\t\t<view\r\n\t\t\t\tclass=\"fixed bottom-0 inset-x-0 w-full bg-white u-border-top flex items-center\"\r\n\t\t\t\tstyle=\"height: 100rpx; z-index: 9999; padding: 0 16rpx\"\r\n\t\t\t>\r\n\t\t\t\t<navigator url=\"/pages/cart/cart\" open-type=\"switchTab\" class=\"flex-shrink-0\" style=\"width: 80rpx; height: 84rpx\">\r\n\t\t\t\t\t<u-icon label=\"购物车\" labelPos=\"bottom\" labelSize=\"24rpx\" size=\"48rpx\" name=\"shopping-cart\" />\r\n\t\t\t\t</navigator>\r\n\t\t\t\t<view class=\"flex-shrink-0\" style=\"width: 80rpx; height: 84rpx; margin-left: 16rpx\">\r\n\t\t\t\t\t<u-icon label=\"客服\" labelPos=\"bottom\" labelSize=\"24rpx\" size=\"48rpx\" name=\"kefu-ermai\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex-shrink-0\" style=\"width: 80rpx; height: 84rpx; margin-left: 16rpx\" @click=\"changeCollect\">\r\n\t\t\t\t\t<u-icon v-if=\"iscollect\" label=\"已收藏\" labelPos=\"bottom\" labelSize=\"24rpx\" size=\"48rpx\" name=\"star-fill\" color=\"#ff5000\" />\r\n\t\t\t\t\t<u-icon v-else label=\"收藏\" labelPos=\"bottom\" labelSize=\"24rpx\" size=\"48rpx\" name=\"star\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex-grow flex items-center\" style=\"margin-left: 20rpx\">\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tclass=\"rounded-l-full flex items-center justify-center text-white\"\r\n\t\t\t\t\t\t:class=\"disabled.cart ? 'cart-btn-disabled' : 'cart-btn'\"\r\n\t\t\t\t\t\t@click=\"addCart\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t加入购物车\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"rounded-r-full flex items-center justify-center text-white\" \r\n\t\t\t\t\t\t:class=\"disabled.buy ? 'buy-btn-disabled' : 'buy-btn'\"\r\n\t\t\t\t\t\t@click=\"buy\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t立即购买\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tloadingNum: 0,\r\n\t\t\t\tproductId: 0,\r\n\t\t\t\trate: uni.getStorageSync('rate'),\n\t\t\t\tswipers: [],\r\n\t\t\t\tinfo: {},\r\n\t\t\t\tcommentList: [],\r\n\t\t\t\tcmtTotal: 0,\r\n\t\t\t\tmoreList: [],\r\n\t\t\t\tscrollLeft: 0,\r\n\t\t\t\tdtlList: [],\r\n\t\t\t\tiscollect: false,\r\n\t\t\t\tdisabled: {\r\n\t\t\t\t\tcollect: false,\r\n\t\t\t\t\tcart: false,\r\n\t\t\t\t\tbuy: true\r\n\t\t\t\t}\n\t\t\t}\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.productId = option.id\r\n\t\t\tthis.getSwipers(option.id)\t// 获取轮播\r\n\t\t\tthis.getInfo(option.id)\t\t\t// 获取Info\r\n\t\t\tthis.getComment(option.id) \t// 获取评论\r\n\t\t\tthis.getMoreList(option.id) // 获取更多推荐\r\n\t\t\tthis.getDtlList(option.id)  // 获取详情图\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif(uni.getStorageSync('token')) {\r\n\t\t\t\tthis.clearstorage()\t// 清空数量存储、地址id存储、购物券存储\r\n\t\t\t\tthis.addHistory(this.productId)\t// 添加足跡\r\n\t\t\t}\r\n\t\t},\n\t\tmethods: {\r\n\t\t\tasync addHistory(id) {\r\n\t\t\t\tawait this.$api({ url: '/wxapp/addBrowseHistory', data: {productid: id} })\r\n\t\t\t},\r\n\t\t\tasync clearstorage() {\r\n\t\t\t\tif(uni.getStorageSync('addressId')) uni.removeStorage({ key: 'addressId'})\r\n\t\t\t\tawait this.$api({ url: '/pay/clearstorage', data: {userid: uni.getStorageSync('user').id, pid: uni.getStorageSync('productId')}})\r\n\t\t\t\tawait this.$api({ url: '/quan/clearquanstorage', data: {userid: uni.getStorageSync('user').id}})\r\n\t\t\t},\n\t\t\tasync getSwipers(id) {\r\n\t\t\t\tconst res = await this.$api({ url: '/open/product_detail/get_product_images', data: { id: id } })\r\n\t\t\t\tthis.swipers = res.data.data\r\n\t\t\t\tthis.loadingNum += 1\r\n\t\t\t},\r\n\t\t\tasync getInfo(id) {\r\n\t\t\t\tconst res = await this.$api({ url: '/open/product_detail/get_product_info', data: { id: id } })\r\n\t\t\t\tthis.info = res.data.data\r\n\t\t\t\tthis.disabled.buy = (res.data.data.icount === 0)\r\n\t\t\t\tif(res.data.data.icount === 0) uni.showToast({ title:'库存为0', icon:'error' })\r\n\t\t\t\tthis.iscollect = res.data.data.iscollect\r\n\t\t\t\tthis.loadingNum += 1\r\n\t\t\t},\r\n\t\t\tasync getComment(id) {\r\n\t\t\t\tconst res = await this.$api({ url: '/open/product_detail/get_productdetail_comment', data: { id: id } })\r\n\t\t\t\tthis.cmtTotal = res.data.data.length\r\n\t\t\t\tthis.commentList = res.data.data.length > 2 ? res.data.data.slice(0,2) : res.data.data\r\n\t\t\t\tthis.loadingNum += 1\r\n\t\t\t},\r\n\t\t\tasync getMoreList(id) {\r\n\t\t\t\tconst res = await this.$api({ url: '/open/product_detail/get_product_comment', data: { id: id } })\r\n\t\t\t\tthis.moreList = res.data.data\r\n\t\t\t\tthis.loadingNum += 1\r\n\t\t\t},\r\n\t\t\tasync getDtlList(id) {\r\n\t\t\t\tconst res = await this.$api({ url: '/open/product_detail/get_product_detail_image', data: { productId: id } })\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tthis.dtlList = res.data.data.images\r\n\t\t\t\tthis.loadingNum += 1\r\n\t\t\t},\r\n\t\t\t// 添加、取消收藏\r\n\t\t\tchangeCollect() {\r\n\t\t\t\t// 没登录\r\n\t\t\t\tif(!uni.getStorageSync('token')) { this.showLoginModal(); return }\r\n\t\t\t\t// ↓↓↓↓↓\r\n\t\t\t\tlet data = { userid: uni.getStorageSync('user').id, productid: this.productId }\r\n\t\t\t\tuni.showLoading({title: '加载中'})\r\n\t\t\t\tif(!this.iscollect && !this.disabled.collect) {\r\n\t\t\t\t\tthis.disabled.collect = true\r\n\t\t\t\t\tthis.$api({method: 'POST', contentType: 'application/x-www-form-urlencoded', url: '/myfavorite/postCollect', data: data}).then((res) => {\r\n\t\t\t\t\t\tif(res.data.code === 20000) {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.showToast({ title:'收藏成功', complete: () => {this.iscollect = true}})\r\n\t\t\t\t\t\t\t\tthis.disabled.collect = false\r\n\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} \r\n\t\t\t\tif(this.iscollect && !this.disabled.collect) {\r\n\t\t\t\t\tthis.disabled.collect = true\r\n\t\t\t\t\tthis.$api({method: 'DELETE', contentType: 'application/x-www-form-urlencoded', url: '/myfavorite/deleteCollect', data: data}).then((res) => {\r\n\t\t\t\t\t\tif(res.data.code === 20000) {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.showToast({ title:'取消收藏成功', complete: () => {this.iscollect = false}})\r\n\t\t\t\t\t\t\t\tthis.disabled.collect = false\r\n\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 加入购物车\r\n\t\t\tasync addCart() {\r\n\t\t\t\tif(!this.disabled.cart) {\r\n\t\t\t\t\t// 没登录\r\n\t\t\t\t\tif(!uni.getStorageSync('token')) { this.showLoginModal(); return }\r\n\t\t\t\t\t// 没实名认证\r\n\t\t\t\t\tif(uni.getStorageSync('shiming') === '0') { this.showShimingModal(); return }\r\n\t\t\t\t\t// ↓↓↓↓↓\r\n\t\t\t\t\tthis.disabled.cart = true\r\n\t\t\t\t\tconst res = await this.$api({\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tcontentType: 'application/x-www-form-urlencoded',\r\n\t\t\t\t\t\turl: '/cart/post',\r\n\t\t\t\t\t\tdata: { userid: uni.getStorageSync('user').id, productid: this.productId }\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif(res.data.code !== 20002) uni.showLoading({title: '加载中'})\r\n\t\t\t\t\tif(res.data.code === 20000) {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.showToast({ title:'成功加入购物车', complete: () => {this.disabled.cart = false}})\r\n\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.showToast({ title:'加入购物车失败', icon:'error', complete: () => {this.disabled.cart = false}})\r\n\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbuy() {\r\n\t\t\t\t// 没登录\r\n\t\t\t\tif(!uni.getStorageSync('token')) { this.showLoginModal(); return }\r\n\t\t\t\t// 没实名认证\r\n\t\t\t\tif(uni.getStorageSync('shiming') === '0') { this.showShimingModal(); return }\r\n\t\t\t\t// ↓↓↓↓↓\r\n\t\t\t\tuni.setStorageSync('productId', this.productId)\r\n\t\t\t\tif(!this.disabled.buy) uni.navigateTo({ url: '/subpages/confirmorder/confirmorder?from=detail' })\r\n\t\t\t},\r\n\t\t\tshowLoginModal() {\r\n\t\t\t\tuni.showModal({ title: '您还未登录，请先登录', icon: 'fail', showCancel: false, success: () => {\r\n\t\t\t\t\tuni.navigateTo({ url: '/pages/login/login' })\r\n\t\t\t\t}})\r\n\t\t\t},\r\n\t\t\tshowShimingModal() {\r\n\t\t\t\tuni.showModal({ title: '您还未实名认证，请先完善信息喲', icon: 'fail', showCancel: false, success: () => {\r\n\t\t\t\t\tuni.navigateTo({ url: '/subpages/info/info' })\r\n\t\t\t\t}})\r\n\t\t\t}\n\t\t}\n\t}\n</script>\r\n\r\n<style scoped>\r\n\t.cart-btn {\r\n\t\twidth: 215rpx; \r\n\t\theight: 80rpx;\r\n\t\tbackground: linear-gradient(to right, rgba(254,204,29,1), rgba(255,141,24,1))\r\n\t}\r\n\t.cart-btn-disabled {\r\n\t\twidth: 215rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground: linear-gradient(to right, rgba(254,204,29,0.5), rgba(255,141,24,0.5))\r\n\t}\r\n\t.buy-btn {\r\n\t\twidth: 215rpx; \r\n\t\theight: 80rpx; \r\n\t\tbackground: linear-gradient(to right, rgba(255,93,50,1), rgba(240,15,35,1))\r\n\t}\r\n\t.buy-btn-disabled {\r\n\t\twidth: 215rpx;\r\n\t\theight: 80rpx; \r\n\t\tbackground: linear-gradient(to right, rgba(255,93,50,0.5), rgba(240,15,35,0.5))\r\n\t}\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=3e159eb4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=3e159eb4&scoped=true&lang=css&\""],"sourceRoot":""}