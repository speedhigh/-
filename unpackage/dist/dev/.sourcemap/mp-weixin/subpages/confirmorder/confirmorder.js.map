{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/muzi-uniapp/subpages/confirmorder/confirmorder.vue?db28","webpack:///D:/code/muzi-uniapp/subpages/confirmorder/confirmorder.vue?973c","webpack:///D:/code/muzi-uniapp/subpages/confirmorder/confirmorder.vue?4efe","webpack:///D:/code/muzi-uniapp/subpages/confirmorder/confirmorder.vue?a60d","uni-app:///subpages/confirmorder/confirmorder.vue","webpack:///D:/code/muzi-uniapp/subpages/confirmorder/confirmorder.vue?212c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uNavbar","uLoadingPage","uIcon","uNumberBox","uCheckboxGroup","uCheckbox","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l1","_self","_c","__map","orderList","carts","item","index","$orig","__get_orig","l0","productMain","card","__i0__","g0","Math","round","productMaintbl","iprice","rate","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":"gJAAA,KACA,YACA,Y,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a,gECHX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,yCACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,qHAITC,aAAc,WACZ,OAAO,iIAITC,MAAO,WACL,OAAO,iHAIT,UAAW,WACT,OAAO,qHAITC,WAAY,WACV,OAAO,6HAITC,eAAgB,WACd,OAAO,qIAITC,UAAW,WACT,OAAO,0HAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,UAAUC,OAAO,SAASC,EAAMC,GACrD,IAAIC,EAAQZ,EAAIa,WAAWH,GAEvBI,EAAKd,EAAIO,MAAMG,EAAKK,aAAa,SAASC,EAAMC,GAClD,IAAIL,EAAQZ,EAAIa,WAAWG,GAEvBE,EAAKC,KAAKC,MAAMJ,EAAKK,eAAeC,OAAStB,EAAIuB,KAAO,IAC5D,MAAO,CACLX,MAAOA,EACPM,GAAIA,MAIR,MAAO,CACLN,MAAOA,EACPE,GAAIA,OAIRd,EAAIwB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLxB,GAAIA,MAKRyB,GAAmB,EACnBC,EAAkB,GACtB/B,EAAOgC,eAAgB,G,iCC1FvB,8GAAynB,eAAG,G,mfCiI5nB,CACA,UAEA,MAFA,WAGA,QAIA,OAHA,0CACA,6EAEA,GAGA,QAVA,WAWA,2FACA,kBACA,IAGA,IAhBA,WAiBA,oCAEA,WAnBA,WAoBA,0EACA,YACA,sDACA,eAEA,qBACA,KAIA,KA/BA,WAgCA,OACA,aACA,8BACA,YACA,UACA,WACA,QAEA,SACA,KACA,QACA,UACA,gBACA,WACA,WACA,YACA,YAEA,WACA,SACA,cAEA,QACA,QACA,QACA,QACA,WAEA,kBAGA,OA/DA,SA+DA,GACA,sBAEA,OAlEA,WAoEA,mHACA,qHAEA,kIACA,2IAEA,SACA,cADA,WAEA,WACA,aACA,oBACA,kBACA,mBACA,uBACA,sBACA,QANA,SAMA,GACA,UACA,aAKA,KAhBA,WAgBA,yIAEA,iFAFA,UAIA,sBAJA,gCAKA,8GALA,OAOA,gBACA,6GARA,8CAWA,WA3BA,SA2BA,oJACA,uBADA,OACA,EADA,OAEA,qCACA,4EACA,gBAJA,8CAMA,aAjCA,SAiCA,oJACA,uBADA,OACA,EADA,OAEA,uCACA,2BACA,6CACA,sCAEA,2BACA,iBACA,kBAEA,gBAXA,8CAaA,aA9CA,WA8CA,+IACA,gFADA,OACA,EADA,OAEA,wEAFA,8CAKA,cAnDA,SAmDA,+HACA,sBACA,6BACA,oBAHA,gCAIA,QACA,gDACA,qBACA,aACA,qCARA,6CAWA,QACA,wBACA,4FAbA,OAgBA,uBACA,gBACA,wBACA,IAnBA,+CAqBA,WAxEA,SAwEA,GACA,+BAEA,UA3EA,WA4EA,oRAEA,IA9EA,WA+EA,sBAIA,qBACA,OACA,mCACA,0CACA,wBACA,YACA,wBAEA,2BACA,uDACA,oCAEA,yBACA,wCAEA,WACA,cACA,gDACA,uBACA,SACA,kBACA,kBAEA,0BA1BA,6E,2EC3RA,8GAAo6B,eAAG,G","file":"subpages/confirmorder/confirmorder.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpages/confirmorder/confirmorder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./confirmorder.vue?vue&type=template&id=1331ebb2&scoped=true&\"\nvar renderjs\nimport script from \"./confirmorder.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmorder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirmorder.vue?vue&type=style&index=0&id=1331ebb2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1331ebb2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpages/confirmorder/confirmorder.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmorder.vue?vue&type=template&id=1331ebb2&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-navbar/u-navbar\" */ \"@/uni_modules/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uLoadingPage: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loading-page/u-loading-page\" */ \"@/uni_modules/uview-ui/components/u-loading-page/u-loading-page.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    \"u-Image\": function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--image/u--image\" */ \"@/uni_modules/uview-ui/components/u--image/u--image.vue\"\n      )\n    },\n    uNumberBox: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-number-box/u-number-box\" */ \"@/uni_modules/uview-ui/components/u-number-box/u-number-box.vue\"\n      )\n    },\n    uCheckboxGroup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-checkbox-group/u-checkbox-group\" */ \"@/uni_modules/uview-ui/components/u-checkbox-group/u-checkbox-group.vue\"\n      )\n    },\n    uCheckbox: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-checkbox/u-checkbox\" */ \"@/uni_modules/uview-ui/components/u-checkbox/u-checkbox.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.orderList.carts, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var l0 = _vm.__map(item.productMain, function(card, __i0__) {\n      var $orig = _vm.__get_orig(card)\n\n      var g0 = Math.round(card.productMaintbl.iprice * _vm.rate * 10)\n      return {\n        $orig: $orig,\n        g0: g0\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmorder.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"relative bg-gray-100 text-sm text-gray-800 min-h-screen\" style=\"padding: 120rpx 0\">\r\n\t\t<u-navbar title=\"确认订单\" @leftClick=\"showBackModal\" />\r\n\t\t<!-- 1，地址 -->\r\n\t\t<u-loading-page v-if=\"loadingNum < 2\" :loading=\"true\" loadingText=\"正在加载...\"  style=\"z-index: 999\"/>\r\n\t\t<navigator \r\n\t\t\t:url=\"'/subpages/address/address?from=' + pageFrom\"\r\n\t\t\tclass=\"bg-white rounded-b-2xl flex items-center p-4\"\r\n\t\t>\r\n\t\t\t<view class=\"flex-grow\" style=\"margin-right: 16rpx\">\r\n\t\t\t\t<view class=\"flex items-center\" style=\"margin-bottom: 16rpx\">\r\n\t\t\t\t\t<view class=\"text-md\" style=\"margin-right: 16rpx\">{{ address.slinkman }} {{ address.smobile }}</view>\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tv-show=\"address.itype === 2\"\r\n\t\t\t\t\t\tclass=\"bg-red-400 text-xs text-white rounded-full\" style=\"padding: 0 8rpx\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t默认\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"line-2 text-xs text-gray-600\">{{ address.saddressname }} {{ address.sdetail }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"ml-auto flex-shrink-0\">\r\n\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\" color=\"#666666\" />\r\n\t\t\t</view>\r\n\t\t</navigator>\r\n\t\t<!-- 2，商品 -->\r\n\t\t<view\r\n\t\t\tv-for=\"(item, index) in orderList.carts\"\r\n\t\t\t:key=\"index\"\r\n\t\t\tclass=\"bg-white rounded-2xl mt-3d5 p-4\" \r\n\t\t>\r\n\t\t\t<text>{{ item.storename }}</text>\r\n\t\t\t<view v-for=\"(card) in item.productMain\" :key=\"card.id\" style=\"margin-top: 32rpx\">\r\n\t\t\t\t<view class=\"flex items-stretch\">\r\n\t\t\t\t\t<view class=\"flex-shrink-0\" style=\"width: 200rpx; height: 200rpx\">\r\n\t\t\t\t\t\t<u--image :src=\"card.simage1\" width=\"200rpx\" height=\"200rpx\" radius=\"5\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex-grow\" style=\"margin-left: 20rpx\">\r\n\t\t\t\t\t\t<view class=\"line-2\" style=\"height: 68rpx\">{{ card.stitle }}</view>\r\n\t\t\t\t\t\t<view class=\"text-red-400\" style=\"margin-top: 10rpx\">\r\n\t\t\t\t\t\t\t<text class=\"text-lg\">{{ card.productMaintbl.iprice }}</text>\r\n\t\t\t\t\t\t\t<text class=\"text-xs\" style=\"margin: 0 8rpx\">港币</text>\r\n\t\t\t\t\t\t\t<text class=\"text-xs text-gray-500\">约{{ Math.round(card.productMaintbl.iprice * rate * 10) / 10 }}元</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-top: 16rpx\">\r\n\t\t\t\t\t\t\t<u-number-box\r\n\t\t\t\t\t\t\t\tv-model=\"card.icount\"\r\n\t\t\t\t\t\t\t\t:name=\"card.id\"\r\n\t\t\t\t\t\t\t\t:disabled=\"disabled.stepper\"\r\n\t\t\t\t\t\t\t\tbutton-size=\"56rpx\"\r\n\t\t\t\t\t\t\t\t:max=\"999\"\r\n\t\t\t\t\t\t\t\tinteger\r\n\t\t\t\t\t\t\t  @change=\"changeStepper\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 3，价格表 -->\r\n\t\t<view class=\"bg-white rounded-2xl mt-3d5 p-4\">\r\n\t\t\t<!-- 商品金额 -->\r\n\t\t\t<view class=\"flex\">\r\n\t\t\t\t<view>商品金额</view>\r\n\t\t\t\t<view class=\"ml-auto\">{{ price }}港币</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 运费 -->\r\n\t\t\t<view\r\n\t\t\t\tv-show=\"freight > 0 || orderList.yanxitangyouhuiyaopin === 1\" \r\n\t\t\t\tclass=\"flex justify-between text-sm mt-3d5\"\r\n\t\t\t>\r\n\t\t\t\t<view>运费</view>\r\n\t\t\t\t<view v-if=\"orderList.yanxitangyouhuiyaopin === 0\">{{ freight }}港币</view>\r\n\t\t\t\t<view v-else class=\"text-red-300\">燕喜堂用户专享0运费</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 税费 -->\r\n\t\t\t<view class=\"flex mt-3d5\">\r\n\t\t\t\t<view>税费</view>\r\n\t\t\t\t<view class=\"ml-auto\">{{ tax }}港币</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 优惠券 -->\r\n\t\t\t<view class=\"flex mt-3d5\">\r\n\t\t\t\t<view>优惠券</view>\r\n\t\t\t\t<view v-if=\"coupon.text === '暂无可用优惠券'\" class=\"text-gray-400\">暂无可用优惠券</view>\r\n\t\t\t\t<navigator url=\"/subpages/coupon/coupon?type=edit\" v-else class=\"ml-auto\">\r\n\t\t\t\t\t<text>{{ coupon.text }}</text>\r\n\t\t\t\t\t<text style=\"margin-left: 4rpx\">></text>\r\n\t\t\t\t</navigator>\r\n\t\t\t</view>\r\n\t\t\t<!-- 运费提示 -->\r\n\t\t\t<view class=\"text-right text-xs mt-3d5 text-gray-600\">邮费65港币，满500邮费20，满700包邮</view>\r\n\t\t\t<!-- 勾选同意委托 -->\r\n\t\t\t<view class=\"mt-3d5 flex justify-end\">\r\n\t\t\t\t<u-checkbox-group @change=\"clickProxy\">\r\n\t\t\t\t\t<u-checkbox\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\tname=\"同意\"\r\n\t\t\t\t\t\tlabel=\"本人同意并接受\"\r\n\t\t\t\t\t\tlabelSize=\"24rpx\"\r\n\t\t\t\t\t\ticonSize=\"28rpx\"\r\n\t\t\t\t\t\tactiveColor=\"#F03E38\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<text class=\"text-xs text-red-400\" @click=\"showProxy\">《进口个人申报委托》</text>\r\n\t\t\t\t</u-checkbox-group>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 4，支付方式 -->\r\n\t\t<view class=\"bg-white rounded-2xl mt-3d5 p-4 flex items-center justify-between\">\r\n\t\t\t<view>支付方式</view>\r\n\t\t\t<u-icon name=\"weixin-fill\" color=\"#04BE02\" size=\"50rpx\" label=\"微信支付\" />\r\n\t\t</view>\r\n\t\t<!-- submit-bar -->\r\n\t\t<view \r\n\t\t\tclass=\"fixed bottom-0 inset-x-0 bg-white u-border-top\" \r\n\t\t\tstyle=\"height: 100rpx; padding: 0 32rpx; z-index: 999\"\r\n\t\t>\r\n\t\t\t<view class=\"flex items-center justify-end\" style=\"height: 100%\">\r\n\t\t\t\t<view>合计：</view>\r\n\t\t\t\t<view class=\"text-red-400\" style=\"margin-top: -6rpx\">\r\n\t\t\t\t\t<text>HK$</text>\r\n\t\t\t\t\t<text class=\"text-lg\">{{ totalPrice }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"text-white text-sm rounded-full buy-btn\" :disabled=\"disabled.buy\" @click=\"buy\">去结算</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tcomputed: {\r\n\t\t\t// 商品金额\r\n\t\t\tprice() {\r\n\t\t\t\tlet p = 0\r\n\t\t\t\tthis.orderList.carts.forEach(item => {\r\n\t\t\t\t\titem.productMain.forEach((i) => { p += i.productMaintbl.iprice * i.icount })\r\n\t\t\t\t})\r\n\t\t\t\treturn p\r\n\t\t\t},\r\n\t\t\t// 运费\r\n\t\t\tfreight() {\r\n\t\t\t\tif(this.orderList.vip === 2 || this.price >= 700 || this.orderList.yanxitangyouhuiyaopin === 1) return 0\r\n\t\t\t\tif(this.price < 500) return 65\r\n\t\t\t\treturn 20\r\n\t\t\t},\r\n\t\t\t// 税费\r\n\t\t\ttax() {\r\n\t\t\t\treturn Math.ceil(this.price * 0.5) / 10\r\n\t\t\t},\r\n\t\t\ttotalPrice() {\r\n\t\t\t\tlet total = this.price + this.freight + this.tax - this.orderList.usingquan.quanvalue\r\n\t\t\t\tif(total > 0) {\r\n\t\t\t\t\tif(this.orderList.carts.length > 0) this.disabled.buy = false\r\n\t\t\t\t\treturn total.toFixed(2)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.disabled.buy = true\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloadingNum: 0,\r\n\t\t\t\trate: uni.getStorageSync('rate'),\r\n\t\t\t\tpageFrom: '',\r\n\t\t\t\tdisabled: {\r\n\t\t\t\t\tstepper: false,\r\n\t\t\t\t\tbuy: true\r\n\t\t\t\t},\r\n\t\t\t\taddress: {\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\titype: 0,\r\n\t\t\t\t\tiuserid: 0,\r\n\t\t\t\t\tsaddressname: \"\",\r\n\t\t\t\t\tscardno: \"\",\r\n\t\t\t\t\tsdetail: \"\",\r\n\t\t\t\t\tslinkman: \"\",\r\n\t\t\t\t\tsmobile: \"\"\r\n\t\t\t\t},\r\n\t\t\t\torderList: {\r\n\t\t\t\t\tcarts: [],\r\n\t\t\t\t\tusingquan: {}\r\n\t\t\t\t},\r\n\t\t\t\tcoupon: {\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\ttext: '',\r\n\t\t\t\t\tlist: [],\r\n\t\t\t\t\tnoList: []\r\n\t\t\t\t},\r\n\t\t\t\tcheckedProxy: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.pageFrom = option.from\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 一， 获取地址信息（两种情况，显示默认地址 或 地址列表选择的地址）\r\n\t\t\tif(uni.getStorageSync('addressId')) this.getAddress('/wxapp/useraddress/get', {addressid: uni.getStorageSync('addressId')})\r\n\t\t\tif(!uni.getStorageSync('addressId')) this.getAddress('/wxapp/useraddress/getdefault', {userid: uni.getStorageSync('user').id})\r\n\t\t\t// 二， 获取商品列表（两种情况，详情页进入的 或 购物车进入的）\r\n\t\t\tif(this.pageFrom === 'detail') this.getOrderList('/pay/buynow', { userid: uni.getStorageSync('user').id, pid: uni.getStorageSync('productId')})\r\n\t\t\tif(this.pageFrom === 'cart')\tthis.getOrderList('/pay/confirmorder', {userid: uni.getStorageSync('user').id, cartids: uni.getStorageSync('orderList')})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshowBackModal() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '确认要放弃购买吗？', \r\n\t\t\t\t\tcancelText: '暂时放弃', \r\n\t\t\t\t\tconfirmText:'继续支付', \r\n\t\t\t\t\tconfirmColor: '#F03E38', \r\n\t\t\t\t\tcancelColor: '#CCCCCC',\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\tif(e.cancel) {\r\n\t\t\t\t\t\t\tthat.back()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync back() {\r\n\t\t\t\t// 清除购物券的后端存储\r\n\t\t\t\tawait this.$api({ url: '/quan/clearquanstorage', data: {userid: uni.getStorageSync('user').id}})\r\n\t\t\t\t// 如果是从详情页面来的，要清空数量存储数据\r\n\t\t\t\tif(this.pageFrom === 'detail') {\r\n\t\t\t\t\tawait this.$api({ url: '/pay/clearstorage', data: {userid: uni.getStorageSync('user').id, pid: uni.getStorageSync('productId')}})\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: getCurrentPages().filter(item => item.route === \"subpages/confirmorder/confirmorder\").length\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync getAddress(url, data) {\r\n\t\t\t\tconst res = await this.$api({ url: url, data: data })\r\n\t\t\t\tObject.assign(this.address, res.data.data)\r\n\t\t\t\tif(!uni.getStorageSync('addressId')) uni.setStorageSync('addressId', res.data.data.id)\r\n\t\t\t\tthis.loadingNum += 1\r\n\t\t\t},\r\n\t\t\tasync getOrderList(url, data) {\r\n\t\t\t\tconst res = await this.$api({ url: url, data: data })\r\n\t\t\t\tObject.assign(this.orderList, res.data.data)\r\n\t\t\t\tif(res.data.data.usingquan.id) {\r\n\t\t\t\t\tthis.coupon.text = res.data.data.usingquan.quanname\r\n\t\t\t\t\tthis.coupon.id = res.data.data.usingquan.id\r\n\t\t\t\t}\r\n\t\t\t\tif(!res.data.data.usingquan.id) {\r\n\t\t\t\t\tthis.getCouponNum()\r\n\t\t\t\t\tthis.coupon.id = null\r\n\t\t\t\t}\r\n\t\t\t\tthis.loadingNum += 1\r\n\t\t\t},\r\n\t\t\tasync getCouponNum() {\r\n\t\t\t\tconst res = await this.$api({url: '/quan/getcount_Canuse', data: {userid: uni.getStorageSync('user').id}})\r\n\t\t\t\tres.data.data === 0 ? this.coupon.text = '暂无可用优惠券' : this.coupon.text = res.data.data + '张可用'\r\n\t\t\t},\r\n\t\t\t// 修改数量（两种情况，详情页进入的 或 购物车进入的）\r\n\t\t\tasync changeStepper(stepper) {\r\n\t\t\t\tthis.disabled.stepper = true\r\n\t\t\t\tuni.showLoading({title: '加载中'})\r\n\t\t\t\tif(this.pageFrom === 'cart') {\r\n\t\t\t\t\tawait this.$api({\r\n\t\t\t\t\t\tcontentType: 'application/x-www-form-urlencoded', \r\n\t\t\t\t\t\turl: '/cart/putcount', \r\n\t\t\t\t\t\tmethod: 'PUT', \r\n\t\t\t\t\t\tdata: {cartid: stepper.name, count: stepper.value}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait this.$api({\r\n\t\t\t\t\t\turl: '/pay/buynowchange',\r\n\t\t\t\t\t\tdata: { userid: uni.getStorageSync('user').id, pid: uni.getStorageSync('productId'), count: stepper.value }\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tthis.disabled.stepper = false\r\n\t\t\t\t}, 50)\r\n\t\t\t},\r\n\t\t\tclickProxy(n) {\r\n\t\t\t\tthis.checkedProxy = (n[0] === '同意')\r\n\t\t\t},\r\n\t\t\tshowProxy() {\r\n\t\t\t\tuni.showModal({title:'进口个人申报委托', showCancel: false, confirmColor: '#F03E38', content: '本人承诺所购买商品系个人合理自用，不会进行二次销售，针对境外（包括保税区等特殊监管区域）发货的各种商品，现委托商家或其委托的物流商代理申报、代缴税款等通关事宜，本人保证遵守《海关法》和国家相关法律法规，保证所提供的收件人身份信息和收货信息真实完整，无侵犯他人权益的行为，并督促保证代缴义务人足额支付应缴税款。以上委托关系系如实填写，本人愿意接受海关及其他监管部门的监管，并承担相应法律责任。'})\r\n\t\t\t},\r\n\t\t\tbuy() {\r\n\t\t\t\tif(!this.checkedProxy) {\r\n\t\t\t\t\tuni.showModal({ title: '请选择同意进口个人申报委托', showCancel: false, confirmColor: '#F03E38' })\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.disabled.buy = true\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tuserid: uni.getStorageSync('user').id,\r\n\t\t\t\t\taddressinfo: uni.getStorageSync('addressId'),\r\n\t\t\t\t\tquaninfo: this.coupon.id,\r\n\t\t\t\t\tjifenused: 0,\r\n\t\t\t\t\ttprice: this.totalPrice,\r\n\t\t\t\t}\r\n\t\t\t\tif(this.pageFrom === 'detail') {\r\n\t\t\t\t\tdata.amount = this.orderList.carts[0].productMain[0].icount\r\n\t\t\t\t\tdata.cartinfo = this.orderList.cartinfo\r\n\t\t\t\t}\r\n\t\t\t\tif(this.pageFrom === 'cart') {\r\n\t\t\t\t\tdata.cartinfo = this.orderList.cartinfo + ','\r\n\t\t\t\t}\r\n\t\t\t\tthis.$api({\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tcontentType: 'application/x-www-form-urlencoded',\r\n\t\t\t\t\turl: '/pay/submitorder',\r\n\t\t\t\t\tdata: data\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t})\r\n\t\t\t\tthis.disabled.buy = false\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n  .buy-btn {\r\n\t\tmin-width: 200rpx; margin-left: 16rpx; background: linear-gradient(to right, #ff5d32, #f00f23)\r\n\t}\r\n\t.buy-btn[disabled] {\r\n\t\tmin-width: 200rpx; margin-left: 16rpx; background: linear-gradient(to right, #FFC3B3, #F7828C); color: #FFFFFF;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmorder.vue?vue&type=style&index=0&id=1331ebb2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmorder.vue?vue&type=style&index=0&id=1331ebb2&scoped=true&lang=css&\""],"sourceRoot":""}